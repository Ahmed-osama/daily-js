<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SW</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <h1>service worker playground</h1>
    <output> </output>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("sw.js", {
            scope: "/",
          }) //returns promise
          .then((reg) => {
            console.log("Service worker registered properly");
          })
          .catch((err) => {
            console.log("service worker failed to register");
          });

        // navigator.storage.estimate().then((storage) => {
        //   console.log({
        //     quota: storage.quota,
        //     usage: storage.usage,
        //   });
        // });
        navigator.storage.persist().then((granted) => {
          console.log({
            granted,
          });
        });
        // navigator.serviceWorker.getRegistrations().then((registrations) => {
        //   registrations.forEach((registration) => {
        //     registration.unregister();
        //   });
        // });
      }
    </script>
  </body>
</html>
